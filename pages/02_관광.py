import streamlit as st
import folium
from streamlit_folium import st_folium
import random

# í˜ì´ì§€ ì„¤ì •
st.set_page_config(page_title="ì„œìš¸ ê´€ê´‘ì§€ë„", page_icon="ğŸ—ºï¸", layout="wide")

# ì œëª©
st.title("ğŸ—ºï¸ ì™¸êµ­ì¸ì´ ì¢‹ì•„í•˜ëŠ” ì„œìš¸ ì£¼ìš” ê´€ê´‘ì§€ Top 10")
st.write("ì„œìš¸ì˜ ëŒ€í‘œ ê´€ê´‘ì§€ 10ê³³ì„ ì§€ë„ì—ì„œ í™•ì¸í•˜ê³ , ì—¬í–‰ ì¼ì •ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”! ğŸ”´")

# ì§€ë„ ì„¤ì •
m = folium.Map(location=[37.5665, 126.9780], zoom_start=12)

# ê´€ê´‘ì§€ ë°ì´í„° (í•œêµ­ì–´ ì„¤ëª… + ì§€í•˜ì²  ì •ë³´)
tourist_spots = [
    {
        "name": "ê²½ë³µê¶",
        "lat": 37.579617, "lon": 126.977041,
        "desc": "ì¡°ì„  ì™•ì¡°ì˜ ë²•ê¶ìœ¼ë¡œ, ì•„ë¦„ë‹¤ìš´ ê±´ì¶•ë¯¸ì™€ ì—­ì‚¬ì  ê°€ì¹˜ê°€ ë†’ì€ ì„œìš¸ì˜ ëŒ€í‘œ ëª…ì†Œì…ë‹ˆë‹¤.",
        "subway": "ğŸš‡ 3í˜¸ì„  ê²½ë³µê¶ì—­"
    },
    {
        "name": "ëª…ë™",
        "lat": 37.563757, "lon": 126.982682,
        "desc": "ì„œìš¸ì˜ ì¤‘ì‹¬ ë²ˆí™”ê°€ë¡œ, ì‡¼í•‘ê³¼ ê¸¸ê±°ë¦¬ ìŒì‹ì´ ê°€ë“í•œ í™œê¸°ì°¬ ê±°ë¦¬ì…ë‹ˆë‹¤.",
        "subway": "ğŸš‡ 4í˜¸ì„  ëª…ë™ì—­"
    },
    {
        "name": "ë‚¨ì‚°íƒ€ì›Œ",
        "lat": 37.551169, "lon": 126.988227,
        "desc": "ì„œìš¸ ì „ê²½ì„ í•œëˆˆì— ë³¼ ìˆ˜ ìˆëŠ” ì „ë§ëŒ€ì´ì ì‚¬ë‘ì˜ ìë¬¼ì‡  ëª…ì†Œë¡œ ìœ ëª…í•©ë‹ˆë‹¤.",
        "subway": "ğŸš‡ 4í˜¸ì„  ëª…ë™ì—­"
    },
    {
        "name": "í™ëŒ€",
        "lat": 37.556327, "lon": 126.922965,
        "desc": "ì ŠìŒê³¼ ì˜ˆìˆ ì´ ê³µì¡´í•˜ëŠ” ê±°ë¦¬ë¡œ, ë²„ìŠ¤í‚¹ê³¼ ê°œì„± ë„˜ì¹˜ëŠ” ìƒì ì´ ì¦ë¹„í•œ ì§€ì—­ì…ë‹ˆë‹¤.",
        "subway": "ğŸš‡ 2í˜¸ì„  í™ëŒ€ì…êµ¬ì—­"
    },
    {
        "name": "ì¸ì‚¬ë™",
        "lat": 37.574012, "lon": 126.984919,
        "desc": "ì „í†µ ì°»ì§‘ê³¼ ê³µì˜ˆí’ˆ ê°€ê²Œê°€ ê°€ë“í•œ ì„œìš¸ì˜ ëŒ€í‘œ ì „í†µë¬¸í™” ê±°ë¦¬ì…ë‹ˆë‹¤.",
        "subway": "ğŸš‡ 3í˜¸ì„  ì•ˆêµ­ì—­"
    },
    {
        "name": "ë™ëŒ€ë¬¸ë””ìì¸í”Œë¼ì(DDP)",
        "lat": 37.566479, "lon": 127.009135,
        "desc": "ë¯¸ë˜ì§€í–¥ì  ë””ìì¸ì˜ ë³µí•©ë¬¸í™”ê³µê°„ìœ¼ë¡œ, ì „ì‹œì™€ íŒ¨ì…˜ì‡¼ê°€ ìì£¼ ì—´ë¦¬ëŠ” ëª…ì†Œì…ë‹ˆë‹¤.",
        "subway": "ğŸš‡ 2Â·4Â·5í˜¸ì„  ë™ëŒ€ë¬¸ì—­ì‚¬ë¬¸í™”ê³µì›ì—­"
    },
    {
        "name": "ì´íƒœì›",
        "lat": 37.534531, "lon": 126.994153,
        "desc": "ë‹¤ì–‘í•œ ë‚˜ë¼ì˜ ìŒì‹ê³¼ ë¬¸í™”ê°€ ê³µì¡´í•˜ëŠ” ì„œìš¸ì˜ ëŒ€í‘œ ì™¸êµ­ì¸ ê±°ë¦¬ì…ë‹ˆë‹¤.",
        "subway": "ğŸš‡ 6í˜¸ì„  ì´íƒœì›ì—­"
    },
    {
        "name": "ë¶ì´Œí•œì˜¥ë§ˆì„",
        "lat": 37.582604, "lon": 126.983998,
        "desc": "ì¡°ì„ ì‹œëŒ€ í•œì˜¥ì´ ì˜ ë³´ì¡´ëœ ì „í†µ ë§ˆì„ë¡œ, ê³¨ëª©ë§ˆë‹¤ ì•„ë¦„ë‹¤ìš´ í’ê²½ì´ í¼ì³ì§‘ë‹ˆë‹¤.",
        "subway": "ğŸš‡ 3í˜¸ì„  ì•ˆêµ­ì—­"
    },
    {
        "name": "ë¡¯ë°ì›”ë“œíƒ€ì›Œ",
        "lat": 37.513068, "lon": 127.102493,
        "desc": "123ì¸µ ì´ˆê³ ì¸µ íƒ€ì›Œë¡œ, ì „ë§ëŒ€ì™€ ì‡¼í•‘ëª°, ìˆ˜ì¡±ê´€ ë“±ì„ ê°–ì¶˜ ë³µí•©ì‹œì„¤ì…ë‹ˆë‹¤.",
        "subway": "ğŸš‡ 2Â·8í˜¸ì„  ì ì‹¤ì—­"
    },
    {
        "name": "ì²­ê³„ì²œ",
        "lat": 37.569713, "lon": 126.989317,
        "desc": "ë„ì‹¬ ì†ì„ íë¥´ëŠ” í•˜ì²œìœ¼ë¡œ, ì‚°ì±…ë¡œì™€ ì•¼ê²½ì´ ì•„ë¦„ë‹¤ìš´ ë„ì‹¬ íœ´ì‹ ê³µê°„ì…ë‹ˆë‹¤.",
        "subway": "ğŸš‡ 1í˜¸ì„  ì¢…ê°ì—­"
    },
]

# ì§€ë„ì— ë§ˆì»¤ ì¶”ê°€ (ë¹¨ê°„ìƒ‰)
for spot in tourist_spots:
    folium.Marker(
        [spot["lat"], spot["lon"]],
        popup=f"<b>{spot['name']}</b><br>{spot['desc']}<br>{spot['subway']}",
        tooltip=spot["name"],
        icon=folium.Icon(color="red", icon="info-sign"),
    ).add_to(m)

# ì§€ë„ ì¶œë ¥ (í¬ê¸° ì¡°ì ˆ)
st_data = st_folium(m, width=700, height=420)

# ê´€ê´‘ì§€ ìš”ì•½ ì •ë³´
st.markdown("---")
st.subheader("ğŸ“ ê´€ê´‘ì§€ ìš”ì•½ ì •ë³´")

for i, spot in enumerate(tourist_spots, start=1):
    st.markdown(f"**{i}. {spot['name']}** â€” {spot['desc']}  \n{subway:=spot['subway']}")

# ë‚ ì§œ ì„ íƒ ìŠ¬ë¼ì´ë”
st.markdown("---")
st.subheader("ğŸ—“ï¸ ì—¬í–‰ ì¼ì • ë§Œë“¤ê¸°")
day = st.slider("ì—¬í–‰í•  ë‚ ì§œë¥¼ ì„ íƒí•˜ì„¸ìš” (1ì¼ì°¨~3ì¼ì°¨)", 1, 3, 1)

st.write(f"### ğŸ“… {day}ì¼ì°¨ ì¶”ì²œ ì¼ì •")

# ì¼ì • êµ¬ì„± (ëœë¤ ë¶„ë°°)
random.seed(42)
itinerary = tourist_spots.copy()
random.shuffle(itinerary)
schedule = {1: itinerary[:4], 2: itinerary[4:7], 3: itinerary[7:]}

# ì¼ì • ì¶œë ¥
for i, spot in enumerate(schedule[day], start=1):
    st.markdown(f"**{i}. {spot['name']}** â€” {spot['desc']}  \n{subway:=spot['subway']}")

# ì½”ë“œ ë³´ê¸°ë‚˜ requirement ë…¸ì¶œ ì•ˆ ë˜ê²Œ ì²˜ë¦¬
st.markdown(
    """
    <style>
    footer {visibility: hidden;}
    #MainMenu {visibility: hidden;}
    header {visibility: hidden;}
    </style>
    """,
    unsafe_allow_html=True
)
