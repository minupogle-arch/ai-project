import streamlit as st
import folium
from streamlit_folium import st_folium

st.set_page_config(page_title="ì„œìš¸ ê´€ê´‘ì¼ì • í”Œë˜ë„ˆ", page_icon="ğŸ—ºï¸", layout="wide")

st.title("ğŸ—ºï¸ ì™¸êµ­ì¸ì´ ì¢‹ì•„í•˜ëŠ” ì„œìš¸ ê´€ê´‘ì§€ ì—¬í–‰ í”Œë˜ë„ˆ")
st.write("ì„œìš¸ì˜ ëŒ€í‘œ ê´€ê´‘ì§€ 10ê³³ì„ ì‹œê°„ëŒ€ë³„ë¡œ ì—¬í–‰í•´ë³´ì„¸ìš”! ğŸ±ğŸŒ‡âœ¨")

# ì§€ë„ ìƒì„±
m = folium.Map(location=[37.5665, 126.9780], zoom_start=12)

# ê´€ê´‘ì§€ ë°ì´í„°
spots = [
    {"name": "ê²½ë³µê¶", "lat": 37.579617, "lon": 126.977041, "desc": "ì¡°ì„  ì™•ì¡°ì˜ ë²•ê¶ìœ¼ë¡œ, ì „í†µ ê±´ì¶•ë¯¸ì™€ ì—­ì‚¬ì  ê°€ì¹˜ê°€ ë†’ì€ ì„œìš¸ì˜ ëŒ€í‘œ ëª…ì†Œ.", "subway": "ğŸš‡ 3í˜¸ì„  ê²½ë³µê¶ì—­"},
    {"name": "ë¶ì´Œí•œì˜¥ë§ˆì„", "lat": 37.582604, "lon": 126.983998, "desc": "ì¡°ì„ ì‹œëŒ€ í•œì˜¥ì´ ë³´ì¡´ëœ ì „í†µ ë§ˆì„ë¡œ, ê³¨ëª©ë§ˆë‹¤ ì•„ë¦„ë‹¤ìš´ í’ê²½ì´ ì´ì–´ì§‘ë‹ˆë‹¤.", "subway": "ğŸš‡ 3í˜¸ì„  ì•ˆêµ­ì—­"},
    {"name": "ì¸ì‚¬ë™", "lat": 37.574012, "lon": 126.984919, "desc": "ì „í†µ ì°»ì§‘ê³¼ ê³µì˜ˆí’ˆ ê°€ê²Œê°€ ë§ì€ ì„œìš¸ì˜ ëŒ€í‘œ ì „í†µê±°ë¦¬.", "subway": "ğŸš‡ 3í˜¸ì„  ì•ˆêµ­ì—­"},
    {"name": "ëª…ë™", "lat": 37.563757, "lon": 126.982682, "desc": "ì„œìš¸ì˜ ì¤‘ì‹¬ ì‡¼í•‘ê±°ë¦¬ë¡œ, íŒ¨ì…˜ê³¼ í™”ì¥í’ˆ, ê¸¸ê±°ë¦¬ ìŒì‹ì´ ê°€ë“í•©ë‹ˆë‹¤.", "subway": "ğŸš‡ 4í˜¸ì„  ëª…ë™ì—­"},
    {"name": "ë‚¨ì‚°íƒ€ì›Œ", "lat": 37.551169, "lon": 126.988227, "desc": "ì„œìš¸ ì „ê²½ì„ í•œëˆˆì— ë³¼ ìˆ˜ ìˆëŠ” ëœë“œë§ˆí¬ ì „ë§ëŒ€.", "subway": "ğŸš‡ 4í˜¸ì„  ëª…ë™ì—­"},
    {"name": "ì²­ê³„ì²œ", "lat": 37.569713, "lon": 126.989317, "desc": "ë„ì‹¬ ì† ì‚°ì±…ë¡œë¡œ, ë‚®ê³¼ ë°¤ ëª¨ë‘ ì•„ë¦„ë‹¤ìš´ ì„œìš¸ì˜ íë§ ëª…ì†Œ.", "subway": "ğŸš‡ 1í˜¸ì„  ì¢…ê°ì—­"},
    {"name": "ë™ëŒ€ë¬¸ë””ìì¸í”Œë¼ì(DDP)", "lat": 37.566479, "lon": 127.009135, "desc": "ë¯¸ë˜ì ì¸ ê³¡ì„  ë””ìì¸ì´ ë‹ë³´ì´ëŠ” ë³µí•©ë¬¸í™”ê³µê°„.", "subway": "ğŸš‡ 2Â·4Â·5í˜¸ì„  ë™ëŒ€ë¬¸ì—­ì‚¬ë¬¸í™”ê³µì›ì—­"},
    {"name": "ì´íƒœì›", "lat": 37.534531, "lon": 126.994153, "desc": "ë‹¤êµ­ì  ìŒì‹ê³¼ ë¬¸í™”ê°€ ê³µì¡´í•˜ëŠ” ì„œìš¸ì˜ ê¸€ë¡œë²Œ ê±°ë¦¬.", "subway": "ğŸš‡ 6í˜¸ì„  ì´íƒœì›ì—­"},
    {"name": "í™ëŒ€", "lat": 37.556327, "lon": 126.922965, "desc": "ì ŠìŒê³¼ ì˜ˆìˆ ì˜ ê±°ë¦¬ë¡œ, ìŒì•…ê³¼ ê°œì„± ìˆëŠ” ìƒì ì´ ê°€ë“í•©ë‹ˆë‹¤.", "subway": "ğŸš‡ 2í˜¸ì„  í™ëŒ€ì…êµ¬ì—­"},
    {"name": "ë¡¯ë°ì›”ë“œíƒ€ì›Œ", "lat": 37.513068, "lon": 127.102493, "desc": "123ì¸µ ì´ˆê³ ì¸µ ë¹Œë”©ìœ¼ë¡œ, ì „ë§ëŒ€ì™€ ì‡¼í•‘ëª°, ìˆ˜ì¡±ê´€ì´ ìˆëŠ” ë³µí•© ëª…ì†Œ.", "subway": "ğŸš‡ 2Â·8í˜¸ì„  ì ì‹¤ì—­"},
]

# ë§ˆì»¤ ì¶”ê°€
for s in spots:
    folium.Marker(
        [s["lat"], s["lon"]],
        popup=f"<b>{s['name']}</b><br>{s['desc']}<br>{s['subway']}",
        tooltip=s["name"],
        icon=folium.Icon(color="red", icon="info-sign"),
    ).add_to(m)

st_data = st_folium(m, width=700, height=420)

st.markdown("---")
st.subheader("ğŸ“ ê´€ê´‘ì§€ ìš”ì•½ ì •ë³´")
for i, s in enumerate(spots, start=1):
    st.markdown(f"**{i}. {s['name']}** â€” {s['desc']}  \n{subway:=s['subway']}")

# ë‚ ì§œ ì„ íƒ
st.markdown("---")
st.subheader("ğŸ—“ï¸ ì—¬í–‰ ì¼ì • ë§Œë“¤ê¸°")
day = st.slider("ì—¬í–‰í•  ë‚ ì§œë¥¼ ì„ íƒí•˜ì„¸ìš” (1ì¼ì°¨~3ì¼ì°¨)", 1, 3, 1)
st.write(f"### ğŸ“… {day}ì¼ì°¨ ì¼ì •")

# ì´ë™ ë™ì„  ê³ ë ¤ (ê°€ê¹Œìš´ ì§€ì—­ë¼ë¦¬ ë¬¶ê¸°)
routes = {
    1: ["ê²½ë³µê¶", "ë¶ì´Œí•œì˜¥ë§ˆì„", "ì¸ì‚¬ë™", "ëª…ë™", "ë‚¨ì‚°íƒ€ì›Œ"],
    2: ["ì²­ê³„ì²œ", "ë™ëŒ€ë¬¸ë””ìì¸í”Œë¼ì(DDP)", "ì´íƒœì›", "í™ëŒ€", "ë‚¨ì‚°íƒ€ì›Œ"],
    3: ["ë¡¯ë°ì›”ë“œíƒ€ì›Œ", "ì ì‹¤ ê·¼ì²˜ ì‡¼í•‘", "ì´íƒœì›", "ëª…ë™", "ì²­ê³„ì²œ"]
}

# ì‹œê°„ëŒ€ë³„ ì¼ì • êµ¬ì„±
def make_schedule(day):
    route = routes[day]
    schedule = [
        {"time": "ğŸŒ… ì˜¤ì „ 09:00", "activity": f"{route[0]} â€” ì•„ì¹¨ ì‚°ì±… ë° ê´€ê´‘"},
        {"time": "ğŸ•™ ì˜¤ì „ 10:30", "activity": f"{route[1]} â€” ë¬¸í™” ì²´í—˜ ë° í¬í† íƒ€ì„"},
        {"time": "ğŸœ 12:30", "activity": "ì ì‹¬ì‹ì‚¬ â€” ê·¼ì²˜ ë§›ì§‘ì—ì„œ í•œì‹ ë˜ëŠ” ë¶„ì‹ ì¦ê¸°ê¸°"},
        {"time": "ğŸŒ‡ ì˜¤í›„ 14:00", "activity": f"{route[2]} â€” ê±°ë¦¬ êµ¬ê²½ ë° ì‡¼í•‘"},
        {"time": "â˜• ì˜¤í›„ 16:00", "activity": f"{route[3]} â€” ì¹´í˜ íƒ€ì„ ë° íœ´ì‹"},
        {"time": "ğŸ² 18:30", "activity": "ì €ë…ì‹ì‚¬ â€” ì§€ì—­ ëŒ€í‘œ ìŒì‹ ë§›ë³´ê¸°"},
        {"time": "ğŸŒ™ ì˜¤í›„ 20:00", "activity": f"{route[4]} â€” ì•¼ê²½ ê°ìƒ ë° ììœ ì‹œê°„"},
    ]
    return schedule

# ì¼ì • í‘œì‹œ
schedule = make_schedule(day)
for item in schedule:
    st.markdown(f"**{item['time']}** â€” {item['activity']}")

# ë¶ˆí•„ìš”í•œ UI ìˆ¨ê¸°ê¸°
st.markdown(
    """
    <style>
    footer {visibility: hidden;}
    #MainMenu {visibility: hidden;}
    header {visibility: hidden;}
    </style>
    """,
    unsafe_allow_html=True
)


